package data.prompt

/**
 * Билдер для создания промптов со структурированным выводом
 */
class StructuredPromptBuilder {

    /**
     * Создает промпт для получения рецепта блюда от шеф-повара
     *
     * @param dishName Название блюда
     * @return Промпт для LLM с требованием структурированного JSON ответа
     */
    fun buildRecipePrompt(dishName: String): String {
        return """
Ты — шеф-повар мирового класса и эксперт кулинарии с многолетним опытом.

ВАЖНО: Твой ответ ДОЛЖЕН быть ТОЛЬКО валидным JSON, без дополнительного текста, без markdown форматирования.

Предоставь полный рецепт блюда: "$dishName"

Верни результат СТРОГО в следующем JSON формате:
{
  "name": "точное название блюда",
  "country": "страна происхождения блюда",
  "ingredients": [
    {
      "name": "название ингредиента",
      "amount": "количество",
      "unit": "единица измерения (г, мл, шт, по вкусу, и т.д.)"
    }
  ],
  "instructions": [
    "Шаг 1: подробное описание",
    "Шаг 2: подробное описание",
    "Шаг 3: подробное описание"
  ],
  "history": "Краткая история блюда в 2-3 предложениях, описывающая происхождение и культурное значение"
}

Требования к формату:
- name: точное название блюда на русском
- country: страна происхождения (Россия, Италия, Франция, и т.д.)
- ingredients: список всех необходимых ингредиентов с точными количествами
- instructions: пошаговая инструкция приготовления (минимум 5 шагов)
- history: интересная история о блюде, 2-3 предложения

НЕ добавляй:
- Markdown форматирование (```json)
- Дополнительный текст до или после JSON
- Комментарии внутри JSON

Теперь предоставь рецепт для блюда: "$dishName"
        """.trimIndent()
    }
}